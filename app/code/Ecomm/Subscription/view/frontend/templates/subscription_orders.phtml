<?php
/** @var \Ecomm\Subscription\Block\Subscription $block */
?>

<div class="template">
    <div class="table-wrapper orders-history">
        <table class="data table table-order-items history" id="my-orders-table">
            <caption class="table-caption"></caption>
            <thead>
            <tr>
                <th scope="col" class="col entity_id">Order ID</th>
                <th scope="col" class="col status">Product Id</th>
                <th scope="col" class="col status">Status</th>
                <th scope="col" class="col createat_at">Created On</th>
            </tr>
            </thead>
            <tbody>
                <?php foreach($block->getCollection() as $value):  ?>
                <tr> 
                    <td><?= $value->getOrderId() ?></td>
                    <td><?= $value->getProductId() ?></td>
                    <td><?= ($value->getStatus() == 1) ? "Completed" : "Pending"; ?></td>  
                    <td><?= $value->getCreatedAt() ?></td>
                </tr>
                <?php endforeach ?>
            </tbody>
        </table>
    </div>
</div>
<script>
    require([
        'jquery',
        'Ecomm_Mysubscription/js/jquery.dataTables.min'
    ], function($, $t){
        $(document).ready(function() {
            $('#my-orders-table').DataTable();
        } );
    })
</script>